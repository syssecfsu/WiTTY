<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- automatically refresh the page every 30 seconds -->
  <meta http-equiv="refresh" content="30">

  <title>Web Terminal</title>

  <!-- Bootstrap core CSS -->
  <link href="/assets/external/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/main.css" rel="stylesheet">

<body>
  <header>
    <nav class="navbar navbar-dark bg-dark shadow-sm navbar-xs">
      <div class="container-fluid">
        <a class="navbar-brand mx-auto" href="https://github.com/syssecfsu/witty" target="_blank">
          <img src="/assets/logo.svg" style="margin-right: 0.5rem;" height="32"
            class="d-inline-block align-text-top">
          WiTTY: Web-based interactive TTY
        </a>
        <a class="btn btn-primary btn-sm float-end" href="/new"
          onClick="setTimeout(function(){window.location.reload()}, 3000);" target="_blank" role="button">
          New Session
        </a>
      </div>
    </nav>
  </header>

  <main>
    <div class="container" style="margin-top:1em;">
      <div class="card-deck row justify-content-center">

        <!-- repeat this for each interactive session -->
        {{range .players}}
        <div class="card shadow-sm border-info  bg-light mb-3" style="width: 16rem; margin:1em;">
          <div class="card-body">
            <h5 class="card-title">Interactive session</h5>
            <p class="card-text">From <em>{{.Ip}}</em>, running <strong>{{.Cmd}}</strong>, session ID: <u>{{.Id}}</u>
            </p>
            <a class="btn btn-secondary btn-sm float-end" href="/view/{{.Id}}" target="_blank" role="button">View
              Session</a>
          </div>
        </div>
        {{end}}

      </div>
    </div>
  </main>
</body>

</html>